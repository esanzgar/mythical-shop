<ng-container *ngIf="waiting">
  <mshop-waiting></mshop-waiting>
</ng-container>

<mat-card class="shopping-card">
  <ng-container *ngIf="notFound; else found">
    <mat-card-header>
      <mat-card-title>Sorry product no found</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <a routerLink="/shop">Browse products</a>
    </mat-card-content>
  </ng-container>

  <ng-template #found>
    <ng-container *ngIf="(product$ | async) as product">
      <mat-card-header>
        <mat-card-title>{{ product.name }}</mat-card-title>
      </mat-card-header>
      <img
        mat-card-image
        src="https://material.angular.io/assets/img/examples/shiba2.jpg"
        alt="Photo of a Shiba Inu"
      />
      <mat-card-content>
        <div class="flex">
          <span class="flex-spacer"></span>
          <mshop-order
            [product]="product"
            [cart]="cart"
            (productUpdate)="onProductUpdate(product, $event)"
          ></mshop-order>
          <button mat-icon-button (click)="onProductUpdate(product, 0)">
            <mat-icon>delete</mat-icon>
          </button>
        </div>

        <!--lorem-->
        <p>
          Sem, tristique sed, semper in, hendrerit non, sem. Vivamus dignissim
          massa in ipsum. Morbi fringilla ullamcorper ligula. Nunc turpis.
          Mauris vitae sapien. Nunc luctus bibendum velit.
        </p>

        <p>
          Morbi faucibus volutpat sapien. Nam ac mauris at justo adipiscing
          facilisis. Nunc et velit. Donec auctor, nulla id laoreet volutpat,
          pede erat feugiat ante, auctor facilisis dui augue non turpis.
          Suspendisse mattis metus et justo. Aliquam erat volutpat. Suspendisse
          potenti. Nam hendrerit lorem commodo metus laoreet ullamcorper. Proin
          vel nunc a felis sollicitudin pretium. Maecenas in metus at mi mollis
          posuere. Quisque ac quam sed massa adipiscing rutrum. Vestibulum
          ipsum. Phasellus porta sapien. Maecenas venenatis tellus.
        </p>
        <!--/lorem-->
      </mat-card-content>
      <mat-card-actions>
        <a mat-button routerLink="/shop">BROWSE ALL PRODUCTS</a>
      </mat-card-actions>
    </ng-container>
  </ng-template>
</mat-card>
